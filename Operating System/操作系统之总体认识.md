---
title: 操作系统之总体认识
tags: Operating System
abbrlink: 5e5a190e
date: 2020-08-08 20:35:54
---

------
谈一下自己对操作系统的总体认识
------

### 首先明白操作系统是干什么！
操作系统（Operating System）是开发出来帮我们管理各种硬件资源和向上提供接口的一个管家，你可以理解有了操作系统的之后，很多本来需要你做的事情，统统交给它来做。
> 举个简单的例子，如果你想保存一个文件写入磁盘，如果没有操作系统你需要怎么做呢？ 首先我想说没有操作系统，你基本完成不了这个事情，因为文件这个概念本来就是在实现操作系统提出的，所以说没有操作系统你就完成不了这样的事情。那我们换一个角度来思考，在我们保存一个文件的时候我们做了什么，操作系统又做了什么！

以下假设基于Window系统
- 假设首先你先要新建一个txt文件并命名为hello.txt，然后你在里面输入字符"Hello World!" 并按下快捷键Ctrl+s保存下来<br>
*以上就是你所做的所有操作了，你新建并保存了一个hello.txt文件*


- 接下来就是操作系统帮你做的事情，首先是新建文件的时候
	- 一般而言你是通过点击鼠标来进行新建文件的，那么操作系统就得时刻监控着鼠标的一举一动（从代码层级考虑就是一个监听事件，再简单点就是一个死循环）
	一旦你移动或点击鼠标，操作系统就会实时的将这个事件传送给cpu处理（通过总线），由于cpu处理的速度相当的快，（假设你的电脑是3.4GHZ，不考虑各种多核处理器，流水线设计等情况，那你电脑1s内可以执行上一亿次指令）所以显示在你眼前的就是鼠标几乎实时的响应者你的操作。 <br> 这个过程中 cpu的管理是由操作系统来完成的。
- 其次当你新建文件成功后，操作系统又帮你干了些什么呢？ 
	- 假设你是在任意一个文件夹下新建的一个txt文本，之前提及到文件这个概念本身就是由操作系统提出的，所以我们首先来看看文件到底是如何产生的
	，由于文件系统的概念涉及到多重抽象的过程，所以这里就简单的提个概念
	- 文件系统的类型有多种多样，每次版本更迭也会有不同的变化，所以这里只介绍涉及的基本概念。文件的存放被设计成两部分，一部分是文件本身的属性，另一部分是文件的内容。
	- 然后操作系统会帮你将这个hello.txt文件分配一个空闲的block（对应到物理就是小小的磁盘块），将文件信息放入data block内，hello.txt的文件名被存放在父目录信息下，并且构成文件名-inode编号的形式，找到了文件名就可以找到对应inode编号。
	- inode编号保存着文件的属性，拥有的block数量和对应的，拥有者，修改时间信息等 类似于一个文件描述
	- 这样你的文件就真正的创建并保存在磁盘当中。其中忽略了修改文件内容的部分，键盘响应部分的详细过程。


### 操作系统这个管家如何帮我们管理硬件
我们熟知的一台电脑的硬件组成有：cpu、显示器、内存、磁盘、键鼠设备

1. 操作系统刚开始帮我们管理cpu，于是有了批处理(Batch Process)系统的概念

> 批处理指的是一次提交多个作业，cpu按照固定的顺序完成作业
2. 由于不同类型的作业对cpu的利用需求不一，在执行io作业时，多数时间cpu都在空转，造成cpu资源的浪费。因此提出了多道程序系统的概念(Multi-Programming)
，从而提高cpu的利用效率。
> 多道程序系统： 当cpu陷入io作业等待时，可以切出cpu执行其他指令，在多道程序系统中，作业的切换和调度成为核心

3. 分时系统（time sharing） 时分复用 MIT的MULITICS 
<br>
*要想明白操作系统的管理细节就要明白两个重要视图：多进程视图，文件系统视图*
<br>
多进程视图 涉及到cpu和内存的管理，弄懂了多进程的概念就明白操作系统如何管理cpu和内存

- cpu管理
- 内存管理
<br>
文件视图涉及到了磁盘管理和终端设备的管理，通过文件视图我们可以了解操作系统如何管理磁盘和终端设备

- disk manage
- io manage